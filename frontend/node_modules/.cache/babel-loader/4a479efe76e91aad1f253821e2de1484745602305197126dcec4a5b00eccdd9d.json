{"ast":null,"code":"import { Extension, isNodeEmpty } from '@tiptap/core';\nimport { Plugin, PluginKey } from '@tiptap/pm/state';\nimport { Decoration, DecorationSet } from '@tiptap/pm/view';\n\n/**\n * This extension allows you to add a placeholder to your editor.\n * A placeholder is a text that appears when the editor or a node is empty.\n * @see https://www.tiptap.dev/api/extensions/placeholder\n */\nconst Placeholder = Extension.create({\n  name: 'placeholder',\n  addOptions() {\n    return {\n      emptyEditorClass: 'is-editor-empty',\n      emptyNodeClass: 'is-empty',\n      placeholder: 'Write something …',\n      showOnlyWhenEditable: true,\n      showOnlyCurrent: true,\n      includeChildren: false\n    };\n  },\n  addProseMirrorPlugins() {\n    return [new Plugin({\n      key: new PluginKey('placeholder'),\n      props: {\n        decorations: ({\n          doc,\n          selection\n        }) => {\n          const active = this.editor.isEditable || !this.options.showOnlyWhenEditable;\n          const {\n            anchor\n          } = selection;\n          const decorations = [];\n          if (!active) {\n            return null;\n          }\n          const isEmptyDoc = this.editor.isEmpty;\n          doc.descendants((node, pos) => {\n            const hasAnchor = anchor >= pos && anchor <= pos + node.nodeSize;\n            const isEmpty = !node.isLeaf && isNodeEmpty(node);\n            if ((hasAnchor || !this.options.showOnlyCurrent) && isEmpty) {\n              const classes = [this.options.emptyNodeClass];\n              if (isEmptyDoc) {\n                classes.push(this.options.emptyEditorClass);\n              }\n              const decoration = Decoration.node(pos, pos + node.nodeSize, {\n                class: classes.join(' '),\n                'data-placeholder': typeof this.options.placeholder === 'function' ? this.options.placeholder({\n                  editor: this.editor,\n                  node,\n                  pos,\n                  hasAnchor\n                }) : this.options.placeholder\n              });\n              decorations.push(decoration);\n            }\n            return this.options.includeChildren;\n          });\n          return DecorationSet.create(doc, decorations);\n        }\n      }\n    })];\n  }\n});\nexport { Placeholder, Placeholder as default };","map":{"version":3,"names":["Placeholder","Extension","create","name","addOptions","emptyEditorClass","emptyNodeClass","placeholder","showOnlyWhenEditable","showOnlyCurrent","includeChildren","addProseMirrorPlugins","Plugin","key","PluginKey","props","decorations","doc","selection","active","editor","isEditable","options","anchor","isEmptyDoc","isEmpty","descendants","node","pos","hasAnchor","nodeSize","isLeaf","isNodeEmpty","classes","push","decoration","Decoration","class","join","DecorationSet"],"sources":["/Users/rushikeshsarode/Downloads/knowledge-platform/knowledge-platform/frontend/node_modules/@tiptap/extension-placeholder/src/placeholder.ts"],"sourcesContent":["import { Editor, Extension, isNodeEmpty } from '@tiptap/core'\nimport { Node as ProsemirrorNode } from '@tiptap/pm/model'\nimport { Plugin, PluginKey } from '@tiptap/pm/state'\nimport { Decoration, DecorationSet } from '@tiptap/pm/view'\n\nexport interface PlaceholderOptions {\n  /**\n   * **The class name for the empty editor**\n   * @default 'is-editor-empty'\n   */\n  emptyEditorClass: string\n\n  /**\n   * **The class name for empty nodes**\n   * @default 'is-empty'\n   */\n  emptyNodeClass: string\n\n  /**\n   * **The placeholder content**\n   *\n   * You can use a function to return a dynamic placeholder or a string.\n   * @default 'Write something …'\n   */\n  placeholder:\n    | ((PlaceholderProps: {\n        editor: Editor\n        node: ProsemirrorNode\n        pos: number\n        hasAnchor: boolean\n      }) => string)\n    | string\n\n  /**\n   * See https://github.com/ueberdosis/tiptap/pull/5278 for more information.\n   * @deprecated This option is no longer respected and this type will be removed in the next major version.\n   */\n  considerAnyAsEmpty?: boolean\n\n  /**\n   * **Checks if the placeholder should be only shown when the editor is editable.**\n   *\n   * If true, the placeholder will only be shown when the editor is editable.\n   * If false, the placeholder will always be shown.\n   * @default true\n   */\n  showOnlyWhenEditable: boolean\n\n  /**\n   * **Checks if the placeholder should be only shown when the current node is empty.**\n   *\n   * If true, the placeholder will only be shown when the current node is empty.\n   * If false, the placeholder will be shown when any node is empty.\n   * @default true\n   */\n  showOnlyCurrent: boolean\n\n  /**\n   * **Controls if the placeholder should be shown for all descendents.**\n   *\n   * If true, the placeholder will be shown for all descendents.\n   * If false, the placeholder will only be shown for the current node.\n   * @default false\n   */\n  includeChildren: boolean\n}\n\n/**\n * This extension allows you to add a placeholder to your editor.\n * A placeholder is a text that appears when the editor or a node is empty.\n * @see https://www.tiptap.dev/api/extensions/placeholder\n */\nexport const Placeholder = Extension.create<PlaceholderOptions>({\n  name: 'placeholder',\n\n  addOptions() {\n    return {\n      emptyEditorClass: 'is-editor-empty',\n      emptyNodeClass: 'is-empty',\n      placeholder: 'Write something …',\n      showOnlyWhenEditable: true,\n      showOnlyCurrent: true,\n      includeChildren: false,\n    }\n  },\n\n  addProseMirrorPlugins() {\n    return [\n      new Plugin({\n        key: new PluginKey('placeholder'),\n        props: {\n          decorations: ({ doc, selection }) => {\n            const active = this.editor.isEditable || !this.options.showOnlyWhenEditable\n            const { anchor } = selection\n            const decorations: Decoration[] = []\n\n            if (!active) {\n              return null\n            }\n\n            const isEmptyDoc = this.editor.isEmpty\n\n            doc.descendants((node, pos) => {\n              const hasAnchor = anchor >= pos && anchor <= pos + node.nodeSize\n              const isEmpty = !node.isLeaf && isNodeEmpty(node)\n\n              if ((hasAnchor || !this.options.showOnlyCurrent) && isEmpty) {\n                const classes = [this.options.emptyNodeClass]\n\n                if (isEmptyDoc) {\n                  classes.push(this.options.emptyEditorClass)\n                }\n\n                const decoration = Decoration.node(pos, pos + node.nodeSize, {\n                  class: classes.join(' '),\n                  'data-placeholder':\n                    typeof this.options.placeholder === 'function'\n                      ? this.options.placeholder({\n                        editor: this.editor,\n                        node,\n                        pos,\n                        hasAnchor,\n                      })\n                      : this.options.placeholder,\n                })\n\n                decorations.push(decoration)\n              }\n\n              return this.options.includeChildren\n            })\n\n            return DecorationSet.create(doc, decorations)\n          },\n        },\n      }),\n    ]\n  },\n})\n"],"mappings":";;;;AAmEA;;;;AAIG;AACU,MAAAA,WAAW,GAAGC,SAAS,CAACC,MAAM,CAAqB;EAC9DC,IAAI,EAAE,aAAa;EAEnBC,UAAUA,CAAA;IACR,OAAO;MACLC,gBAAgB,EAAE,iBAAiB;MACnCC,cAAc,EAAE,UAAU;MAC1BC,WAAW,EAAE,mBAAmB;MAChCC,oBAAoB,EAAE,IAAI;MAC1BC,eAAe,EAAE,IAAI;MACrBC,eAAe,EAAE;KAClB;GACF;EAEDC,qBAAqBA,CAAA;IACnB,OAAO,CACL,IAAIC,MAAM,CAAC;MACTC,GAAG,EAAE,IAAIC,SAAS,CAAC,aAAa,CAAC;MACjCC,KAAK,EAAE;QACLC,WAAW,EAAEA,CAAC;UAAEC,GAAG;UAAEC;QAAS,CAAE,KAAI;UAClC,MAAMC,MAAM,GAAG,IAAI,CAACC,MAAM,CAACC,UAAU,IAAI,CAAC,IAAI,CAACC,OAAO,CAACd,oBAAoB;UAC3E,MAAM;YAAEe;UAAM,CAAE,GAAGL,SAAS;UAC5B,MAAMF,WAAW,GAAiB,EAAE;UAEpC,IAAI,CAACG,MAAM,EAAE;YACX,OAAO,IAAI;;UAGb,MAAMK,UAAU,GAAG,IAAI,CAACJ,MAAM,CAACK,OAAO;UAEtCR,GAAG,CAACS,WAAW,CAAC,CAACC,IAAI,EAAEC,GAAG,KAAI;YAC5B,MAAMC,SAAS,GAAGN,MAAM,IAAIK,GAAG,IAAIL,MAAM,IAAIK,GAAG,GAAGD,IAAI,CAACG,QAAQ;YAChE,MAAML,OAAO,GAAG,CAACE,IAAI,CAACI,MAAM,IAAIC,WAAW,CAACL,IAAI,CAAC;YAEjD,IAAI,CAACE,SAAS,IAAI,CAAC,IAAI,CAACP,OAAO,CAACb,eAAe,KAAKgB,OAAO,EAAE;cAC3D,MAAMQ,OAAO,GAAG,CAAC,IAAI,CAACX,OAAO,CAAChB,cAAc,CAAC;cAE7C,IAAIkB,UAAU,EAAE;gBACdS,OAAO,CAACC,IAAI,CAAC,IAAI,CAACZ,OAAO,CAACjB,gBAAgB,CAAC;;cAG7C,MAAM8B,UAAU,GAAGC,UAAU,CAACT,IAAI,CAACC,GAAG,EAAEA,GAAG,GAAGD,IAAI,CAACG,QAAQ,EAAE;gBAC3DO,KAAK,EAAEJ,OAAO,CAACK,IAAI,CAAC,GAAG,CAAC;gBACxB,kBAAkB,EAChB,OAAO,IAAI,CAAChB,OAAO,CAACf,WAAW,KAAK,aAChC,IAAI,CAACe,OAAO,CAACf,WAAW,CAAC;kBACzBa,MAAM,EAAE,IAAI,CAACA,MAAM;kBACnBO,IAAI;kBACJC,GAAG;kBACHC;iBACD,IACC,IAAI,CAACP,OAAO,CAACf;cACpB,EAAC;cAEFS,WAAW,CAACkB,IAAI,CAACC,UAAU,CAAC;;YAG9B,OAAO,IAAI,CAACb,OAAO,CAACZ,eAAe;UACrC,CAAC,CAAC;UAEF,OAAO6B,aAAa,CAACrC,MAAM,CAACe,GAAG,EAAED,WAAW,CAAC;;MAEhD;KACF,CAAC,CACH;;AAEJ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}