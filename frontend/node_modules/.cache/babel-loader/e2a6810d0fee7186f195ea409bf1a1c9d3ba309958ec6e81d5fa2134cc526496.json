{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\hp\\\\Desktop\\\\knowledge_platform\\\\knowledge-platform\\\\knowledge-platform\\\\frontend\\\\src\\\\pages\\\\ArticleFormPage.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useNavigate, useParams } from 'react-router-dom';\nimport RichEditor from '../components/RichEditor';\nimport { articlesAPI, aiAPI } from '../services/api';\nimport toast from 'react-hot-toast';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst CATEGORIES = ['Tech', 'AI', 'Backend', 'Frontend', 'DevOps', 'Database', 'Security', 'Mobile', 'Other'];\nconst ArticleFormPage = () => {\n  _s();\n  const {\n    id\n  } = useParams();\n  const isEdit = !!id;\n  const navigate = useNavigate();\n  const [form, setForm] = useState({\n    title: '',\n    content: '',\n    category: 'Tech',\n    tags: '',\n    summary: ''\n  });\n  const [loading, setLoading] = useState(false);\n  const [saving, setSaving] = useState(false);\n  const [aiPanel, setAiPanel] = useState(null);\n  const [aiLoading, setAiLoading] = useState(false);\n  const [aiResult, setAiResult] = useState('');\n  const [suggestedTitles, setSuggestedTitles] = useState([]);\n  const [suggestedTags, setSuggestedTags] = useState([]);\n  useEffect(() => {\n    if (isEdit) {\n      setLoading(true);\n      articlesAPI.getById(id).then(res => {\n        var _a$tags;\n        const a = res.data;\n        setForm({\n          title: a.title,\n          content: a.content,\n          category: a.category,\n          tags: ((_a$tags = a.tags) === null || _a$tags === void 0 ? void 0 : _a$tags.join(', ')) || '',\n          summary: a.summary || ''\n        });\n      }).catch(() => toast.error('Failed to load article')).finally(() => setLoading(false));\n    }\n  }, [id, isEdit]);\n  const handleSubmit = async e => {\n    e.preventDefault();\n    if (!form.content || form.content === '<p></p>') {\n      toast.error('Please add some content');\n      return;\n    }\n    setSaving(true);\n    try {\n      const payload = {\n        ...form,\n        tags: form.tags.split(',').map(t => t.trim()).filter(Boolean)\n      };\n      if (isEdit) {\n        await articlesAPI.update(id, payload);\n        toast.success('Article updated!');\n        navigate(`/articles/${id}`);\n      } else {\n        const res = await articlesAPI.create(payload);\n        toast.success('Article published! üéâ');\n        navigate(`/articles/${res.data.id}`);\n      }\n    } catch (err) {\n      var _err$response, _err$response$data, _err$response$data$er, _err$response$data$er2, _err$response2, _err$response2$data;\n      const msg = ((_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : (_err$response$data$er = _err$response$data.errors) === null || _err$response$data$er === void 0 ? void 0 : (_err$response$data$er2 = _err$response$data$er[0]) === null || _err$response$data$er2 === void 0 ? void 0 : _err$response$data$er2.msg) || ((_err$response2 = err.response) === null || _err$response2 === void 0 ? void 0 : (_err$response2$data = _err$response2.data) === null || _err$response2$data === void 0 ? void 0 : _err$response2$data.error) || 'Failed to save';\n      toast.error(msg);\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  // AI: Improve writing\n  const handleImprove = async mode => {\n    if (!form.content) {\n      toast.error('Write some content first');\n      return;\n    }\n    setAiLoading(true);\n    setAiResult('');\n    try {\n      // Strip HTML for AI\n      const tmp = document.createElement('div');\n      tmp.innerHTML = form.content;\n      const plainText = tmp.textContent;\n      const res = await aiAPI.improve(plainText, mode);\n      setAiResult(res.data.result);\n    } catch {\n      toast.error('AI assist failed. Check your API key or try again.');\n    } finally {\n      setAiLoading(false);\n    }\n  };\n  const applyImprovedContent = () => {\n    setForm(f => ({\n      ...f,\n      content: `<p>${aiResult.replace(/\\n\\n/g, '</p><p>').replace(/\\n/g, '<br/>')}</p>`\n    }));\n    setAiResult('');\n    setAiPanel(null);\n    toast.success('Content updated!');\n  };\n\n  // AI: Generate summary\n  const handleSummary = async () => {\n    if (!form.content) {\n      toast.error('Write some content first');\n      return;\n    }\n    setAiLoading(true);\n    try {\n      const tmp = document.createElement('div');\n      tmp.innerHTML = form.content;\n      const res = await aiAPI.summary(tmp.textContent, form.title);\n      setForm(f => ({\n        ...f,\n        summary: res.data.summary\n      }));\n      toast.success('Summary generated!');\n    } catch {\n      toast.error('AI summary failed');\n    } finally {\n      setAiLoading(false);\n    }\n  };\n\n  // AI: Suggest titles\n  const handleSuggestTitles = async () => {\n    if (!form.content) {\n      toast.error('Write some content first');\n      return;\n    }\n    setAiLoading(true);\n    setSuggestedTitles([]);\n    try {\n      const tmp = document.createElement('div');\n      tmp.innerHTML = form.content;\n      const res = await aiAPI.suggestTitle(tmp.textContent, form.title);\n      setSuggestedTitles(res.data.titles || []);\n    } catch {\n      toast.error('AI title suggestion failed');\n    } finally {\n      setAiLoading(false);\n    }\n  };\n\n  // AI: Suggest tags\n  const handleSuggestTags = async () => {\n    if (!form.content) {\n      toast.error('Write some content first');\n      return;\n    }\n    setAiLoading(true);\n    setSuggestedTags([]);\n    try {\n      const tmp = document.createElement('div');\n      tmp.innerHTML = form.content;\n      const res = await aiAPI.suggestTags(tmp.textContent, form.title);\n      setSuggestedTags(res.data.tags || []);\n    } catch {\n      toast.error('AI tag suggestion failed');\n    } finally {\n      setAiLoading(false);\n    }\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'grid',\n        placeItems: 'center',\n        height: '60vh'\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"spinner\",\n        style: {\n          width: 36,\n          height: 36\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"page-main\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          maxWidth: 900,\n          margin: '0 auto'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginBottom: 32\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            style: {\n              fontFamily: 'var(--font-display)',\n              fontSize: 32,\n              fontWeight: 900,\n              color: 'var(--ink)',\n              marginBottom: 6\n            },\n            children: isEdit ? '‚úèÔ∏è Edit Article' : '‚ú® New Article'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 162,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              color: 'var(--ink-muted)'\n            },\n            children: isEdit ? 'Update your article below' : 'Share your knowledge with the community'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 171,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 161,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleSubmit,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"form-label\",\n              children: \"Title *\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 179,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              className: \"form-input\",\n              style: {\n                fontSize: 20,\n                fontFamily: 'var(--font-display)',\n                fontWeight: 700,\n                padding: '14px 16px'\n              },\n              placeholder: \"Write a compelling title...\",\n              value: form.title,\n              onChange: e => setForm(f => ({\n                ...f,\n                title: e.target.value\n              })),\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 180,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 178,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: 'grid',\n              gridTemplateColumns: '1fr 2fr',\n              gap: 16,\n              marginBottom: 20\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              style: {\n                marginBottom: 0\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"form-label\",\n                children: \"Category *\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 193,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                className: \"form-select\",\n                value: form.category,\n                onChange: e => setForm(f => ({\n                  ...f,\n                  category: e.target.value\n                })),\n                children: CATEGORIES.map(c => /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: c,\n                  children: c\n                }, c, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 199,\n                  columnNumber: 40\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 194,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 192,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              style: {\n                marginBottom: 0\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"form-label\",\n                children: [\"Tags\", /*#__PURE__*/_jsxDEV(\"button\", {\n                  type: \"button\",\n                  onClick: () => {\n                    setAiPanel('tags');\n                    handleSuggestTags();\n                  },\n                  className: \"btn btn-sm\",\n                  style: {\n                    marginLeft: 8,\n                    padding: '2px 8px',\n                    fontSize: 11,\n                    background: '#f3f0ff',\n                    color: '#5b21b6',\n                    border: '1px solid #c4b5fd'\n                  },\n                  children: \"\\u2728 AI Suggest\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 205,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 203,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                className: \"form-input\",\n                placeholder: \"react, javascript, web-development\",\n                value: form.tags,\n                onChange: e => setForm(f => ({\n                  ...f,\n                  tags: e.target.value\n                }))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 214,\n                columnNumber: 17\n              }, this), suggestedTags.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  display: 'flex',\n                  flexWrap: 'wrap',\n                  gap: 6,\n                  marginTop: 8\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  style: {\n                    fontSize: 12,\n                    color: 'var(--ink-muted)'\n                  },\n                  children: \"Suggestions:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 222,\n                  columnNumber: 21\n                }, this), suggestedTags.map(tag => /*#__PURE__*/_jsxDEV(\"button\", {\n                  type: \"button\",\n                  className: \"badge badge-tag\",\n                  style: {\n                    cursor: 'pointer',\n                    fontSize: 12\n                  },\n                  onClick: () => {\n                    const existing = form.tags.split(',').map(t => t.trim()).filter(Boolean);\n                    if (!existing.includes(tag)) {\n                      setForm(f => ({\n                        ...f,\n                        tags: [...existing, tag].join(', ')\n                      }));\n                    }\n                  },\n                  children: [\"+ #\", tag]\n                }, tag, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 224,\n                  columnNumber: 23\n                }, this)), /*#__PURE__*/_jsxDEV(\"button\", {\n                  type: \"button\",\n                  className: \"btn btn-sm\",\n                  style: {\n                    fontSize: 11,\n                    padding: '2px 8px'\n                  },\n                  onClick: () => setForm(f => ({\n                    ...f,\n                    tags: suggestedTags.join(', ')\n                  })),\n                  children: \"Use all\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 236,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 221,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 202,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 191,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"form-label\",\n              children: [\"Summary\", /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                onClick: () => {\n                  setAiPanel('summary');\n                  handleSummary();\n                },\n                className: \"btn btn-sm\",\n                style: {\n                  marginLeft: 8,\n                  padding: '2px 8px',\n                  fontSize: 11,\n                  background: '#f3f0ff',\n                  color: '#5b21b6',\n                  border: '1px solid #c4b5fd'\n                },\n                children: \"\\u2728 AI Generate\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 250,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 248,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n              className: \"form-textarea\",\n              placeholder: \"A brief summary shown on article cards. Leave blank or use AI to generate.\",\n              value: form.summary,\n              onChange: e => setForm(f => ({\n                ...f,\n                summary: e.target.value\n              })),\n              rows: 3\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 259,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 247,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"form-label\",\n              children: \"Content *\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 270,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(RichEditor, {\n              content: form.content,\n              onChange: html => setForm(f => ({\n                ...f,\n                content: html\n              }))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 271,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 269,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              background: 'linear-gradient(135deg, #1e1b4b, #1e3a8a)',\n              borderRadius: 'var(--radius-md)',\n              padding: '20px 24px',\n              marginBottom: 24,\n              color: 'white'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                display: 'flex',\n                alignItems: 'center',\n                gap: 8,\n                marginBottom: 14\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                style: {\n                  fontSize: 18\n                },\n                children: \"\\uD83E\\uDD16\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 286,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                style: {\n                  fontWeight: 700,\n                  fontSize: 14,\n                  textTransform: 'uppercase',\n                  letterSpacing: '0.07em'\n                },\n                children: \"AI Writing Assistant\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 287,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                style: {\n                  fontSize: 11,\n                  background: 'rgba(255,255,255,0.15)',\n                  padding: '2px 8px',\n                  borderRadius: 100,\n                  marginLeft: 4\n                },\n                children: \"Powered by Gemini\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 290,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 285,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                display: 'flex',\n                flexWrap: 'wrap',\n                gap: 8\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                onClick: () => {\n                  setAiPanel('improve');\n                  handleImprove('clarity');\n                },\n                className: \"btn btn-sm\",\n                style: {\n                  background: 'rgba(255,255,255,0.15)',\n                  color: 'white',\n                  border: '1px solid rgba(255,255,255,0.25)',\n                  backdropFilter: 'blur(4px)'\n                },\n                disabled: aiLoading,\n                children: \"\\u2728 Improve Clarity\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 297,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                onClick: () => {\n                  setAiPanel('improve');\n                  handleImprove('grammar');\n                },\n                className: \"btn btn-sm\",\n                style: {\n                  background: 'rgba(255,255,255,0.15)',\n                  color: 'white',\n                  border: '1px solid rgba(255,255,255,0.25)'\n                },\n                disabled: aiLoading,\n                children: \"\\uD83D\\uDCDD Fix Grammar\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 306,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                onClick: () => {\n                  setAiPanel('improve');\n                  handleImprove('concise');\n                },\n                className: \"btn btn-sm\",\n                style: {\n                  background: 'rgba(255,255,255,0.15)',\n                  color: 'white',\n                  border: '1px solid rgba(255,255,255,0.25)'\n                },\n                disabled: aiLoading,\n                children: \"\\u2702\\uFE0F Make Concise\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 315,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                onClick: () => {\n                  setAiPanel('titles');\n                  handleSuggestTitles();\n                },\n                className: \"btn btn-sm\",\n                style: {\n                  background: 'rgba(255,255,255,0.15)',\n                  color: 'white',\n                  border: '1px solid rgba(255,255,255,0.25)'\n                },\n                disabled: aiLoading,\n                children: \"\\uD83D\\uDCA1 Suggest Titles\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 324,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 296,\n              columnNumber: 15\n            }, this), aiLoading && /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                display: 'flex',\n                alignItems: 'center',\n                gap: 10,\n                marginTop: 14\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"spinner\",\n                style: {\n                  borderColor: 'rgba(255,255,255,0.3)',\n                  borderTopColor: 'white',\n                  width: 18,\n                  height: 18\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 337,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                style: {\n                  fontSize: 13,\n                  opacity: 0.8\n                },\n                children: \"AI is thinking...\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 338,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 336,\n              columnNumber: 17\n            }, this), aiPanel === 'improve' && aiResult && /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                marginTop: 16,\n                background: 'rgba(255,255,255,0.1)',\n                borderRadius: 8,\n                padding: 16,\n                border: '1px solid rgba(255,255,255,0.2)'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                style: {\n                  fontSize: 12,\n                  opacity: 0.7,\n                  marginBottom: 8,\n                  textTransform: 'uppercase',\n                  letterSpacing: '0.05em'\n                },\n                children: \"AI Suggestion:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 351,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                style: {\n                  fontSize: 14,\n                  lineHeight: 1.7,\n                  whiteSpace: 'pre-wrap',\n                  opacity: 0.95\n                },\n                children: [aiResult.slice(0, 600), aiResult.length > 600 ? '...' : '']\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 354,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  display: 'flex',\n                  gap: 8,\n                  marginTop: 12\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  type: \"button\",\n                  onClick: applyImprovedContent,\n                  className: \"btn btn-sm\",\n                  style: {\n                    background: 'white',\n                    color: '#1e1b4b',\n                    fontWeight: 700\n                  },\n                  children: \"\\u2713 Apply\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 358,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  type: \"button\",\n                  onClick: () => {\n                    setAiResult('');\n                    setAiPanel(null);\n                  },\n                  className: \"btn btn-sm\",\n                  style: {\n                    background: 'transparent',\n                    color: 'white',\n                    border: '1px solid rgba(255,255,255,0.3)'\n                  },\n                  children: \"\\u2715 Dismiss\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 364,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 357,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 344,\n              columnNumber: 17\n            }, this), aiPanel === 'titles' && suggestedTitles.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                marginTop: 16\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                style: {\n                  fontSize: 12,\n                  opacity: 0.7,\n                  marginBottom: 8,\n                  textTransform: 'uppercase',\n                  letterSpacing: '0.05em'\n                },\n                children: \"Suggested Titles:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 377,\n                columnNumber: 19\n              }, this), suggestedTitles.map((t, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  background: 'rgba(255,255,255,0.1)',\n                  border: '1px solid rgba(255,255,255,0.2)',\n                  borderRadius: 6,\n                  padding: '10px 14px',\n                  marginBottom: 8,\n                  cursor: 'pointer',\n                  fontSize: 14,\n                  transition: 'background 0.15s'\n                },\n                onClick: () => {\n                  setForm(f => ({\n                    ...f,\n                    title: t\n                  }));\n                  setSuggestedTitles([]);\n                  setAiPanel(null);\n                  toast.success('Title applied!');\n                },\n                onMouseEnter: e => e.currentTarget.style.background = 'rgba(255,255,255,0.2)',\n                onMouseLeave: e => e.currentTarget.style.background = 'rgba(255,255,255,0.1)',\n                children: t\n              }, i, false, {\n                fileName: _jsxFileName,\n                lineNumber: 381,\n                columnNumber: 21\n              }, this))]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 376,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 278,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: 'flex',\n              gap: 12,\n              justifyContent: 'flex-end'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              className: \"btn btn-ghost\",\n              onClick: () => navigate(isEdit ? `/articles/${id}` : '/'),\n              children: \"Cancel\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 411,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              className: \"btn btn-primary btn-lg\",\n              disabled: saving,\n              children: saving ? /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"spinner\",\n                  style: {\n                    width: 18,\n                    height: 18\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 422,\n                  columnNumber: 23\n                }, this), \" Saving...\"]\n              }, void 0, true) : isEdit ? 'üíæ Save Changes' : 'üöÄ Publish Article'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 416,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 410,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 176,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 157,\n    columnNumber: 5\n  }, this);\n};\n_s(ArticleFormPage, \"B+OMavgLdQVRH9/r4HKhpHyS84k=\", false, function () {\n  return [useParams, useNavigate];\n});\n_c = ArticleFormPage;\nexport default ArticleFormPage;\nvar _c;\n$RefreshReg$(_c, \"ArticleFormPage\");","map":{"version":3,"names":["React","useState","useEffect","useNavigate","useParams","RichEditor","articlesAPI","aiAPI","toast","jsxDEV","_jsxDEV","Fragment","_Fragment","CATEGORIES","ArticleFormPage","_s","id","isEdit","navigate","form","setForm","title","content","category","tags","summary","loading","setLoading","saving","setSaving","aiPanel","setAiPanel","aiLoading","setAiLoading","aiResult","setAiResult","suggestedTitles","setSuggestedTitles","suggestedTags","setSuggestedTags","getById","then","res","_a$tags","a","data","join","catch","error","finally","handleSubmit","e","preventDefault","payload","split","map","t","trim","filter","Boolean","update","success","create","err","_err$response","_err$response$data","_err$response$data$er","_err$response$data$er2","_err$response2","_err$response2$data","msg","response","errors","handleImprove","mode","tmp","document","createElement","innerHTML","plainText","textContent","improve","result","applyImprovedContent","f","replace","handleSummary","handleSuggestTitles","suggestTitle","titles","handleSuggestTags","suggestTags","style","display","placeItems","height","children","className","width","fileName","_jsxFileName","lineNumber","columnNumber","maxWidth","margin","marginBottom","fontFamily","fontSize","fontWeight","color","onSubmit","padding","placeholder","value","onChange","target","required","gridTemplateColumns","gap","c","type","onClick","marginLeft","background","border","length","flexWrap","marginTop","tag","cursor","existing","includes","rows","html","borderRadius","alignItems","textTransform","letterSpacing","backdropFilter","disabled","borderColor","borderTopColor","opacity","lineHeight","whiteSpace","slice","i","transition","onMouseEnter","currentTarget","onMouseLeave","justifyContent","_c","$RefreshReg$"],"sources":["C:/Users/hp/Desktop/knowledge_platform/knowledge-platform/knowledge-platform/frontend/src/pages/ArticleFormPage.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useNavigate, useParams } from 'react-router-dom';\nimport RichEditor from '../components/RichEditor';\nimport { articlesAPI, aiAPI } from '../services/api';\nimport toast from 'react-hot-toast';\n\nconst CATEGORIES = ['Tech', 'AI', 'Backend', 'Frontend', 'DevOps', 'Database', 'Security', 'Mobile', 'Other'];\n\nconst ArticleFormPage = () => {\n  const { id } = useParams();\n  const isEdit = !!id;\n  const navigate = useNavigate();\n\n  const [form, setForm] = useState({\n    title: '', content: '', category: 'Tech', tags: '', summary: '',\n  });\n  const [loading, setLoading] = useState(false);\n  const [saving, setSaving] = useState(false);\n  const [aiPanel, setAiPanel] = useState(null);\n  const [aiLoading, setAiLoading] = useState(false);\n  const [aiResult, setAiResult] = useState('');\n  const [suggestedTitles, setSuggestedTitles] = useState([]);\n  const [suggestedTags, setSuggestedTags] = useState([]);\n\n  useEffect(() => {\n    if (isEdit) {\n      setLoading(true);\n      articlesAPI.getById(id).then(res => {\n        const a = res.data;\n        setForm({\n          title: a.title,\n          content: a.content,\n          category: a.category,\n          tags: a.tags?.join(', ') || '',\n          summary: a.summary || '',\n        });\n      }).catch(() => toast.error('Failed to load article')).finally(() => setLoading(false));\n    }\n  }, [id, isEdit]);\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    if (!form.content || form.content === '<p></p>') {\n      toast.error('Please add some content');\n      return;\n    }\n    setSaving(true);\n    try {\n      const payload = {\n        ...form,\n        tags: form.tags.split(',').map(t => t.trim()).filter(Boolean),\n      };\n      if (isEdit) {\n        await articlesAPI.update(id, payload);\n        toast.success('Article updated!');\n        navigate(`/articles/${id}`);\n      } else {\n        const res = await articlesAPI.create(payload);\n        toast.success('Article published! üéâ');\n        navigate(`/articles/${res.data.id}`);\n      }\n    } catch (err) {\n      const msg = err.response?.data?.errors?.[0]?.msg || err.response?.data?.error || 'Failed to save';\n      toast.error(msg);\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  // AI: Improve writing\n  const handleImprove = async (mode) => {\n    if (!form.content) { toast.error('Write some content first'); return; }\n    setAiLoading(true);\n    setAiResult('');\n    try {\n      // Strip HTML for AI\n      const tmp = document.createElement('div');\n      tmp.innerHTML = form.content;\n      const plainText = tmp.textContent;\n\n      const res = await aiAPI.improve(plainText, mode);\n      setAiResult(res.data.result);\n    } catch {\n      toast.error('AI assist failed. Check your API key or try again.');\n    } finally {\n      setAiLoading(false);\n    }\n  };\n\n  const applyImprovedContent = () => {\n    setForm(f => ({ ...f, content: `<p>${aiResult.replace(/\\n\\n/g, '</p><p>').replace(/\\n/g, '<br/>')}</p>` }));\n    setAiResult('');\n    setAiPanel(null);\n    toast.success('Content updated!');\n  };\n\n  // AI: Generate summary\n  const handleSummary = async () => {\n    if (!form.content) { toast.error('Write some content first'); return; }\n    setAiLoading(true);\n    try {\n      const tmp = document.createElement('div');\n      tmp.innerHTML = form.content;\n      const res = await aiAPI.summary(tmp.textContent, form.title);\n      setForm(f => ({ ...f, summary: res.data.summary }));\n      toast.success('Summary generated!');\n    } catch {\n      toast.error('AI summary failed');\n    } finally {\n      setAiLoading(false);\n    }\n  };\n\n  // AI: Suggest titles\n  const handleSuggestTitles = async () => {\n    if (!form.content) { toast.error('Write some content first'); return; }\n    setAiLoading(true);\n    setSuggestedTitles([]);\n    try {\n      const tmp = document.createElement('div');\n      tmp.innerHTML = form.content;\n      const res = await aiAPI.suggestTitle(tmp.textContent, form.title);\n      setSuggestedTitles(res.data.titles || []);\n    } catch {\n      toast.error('AI title suggestion failed');\n    } finally {\n      setAiLoading(false);\n    }\n  };\n\n  // AI: Suggest tags\n  const handleSuggestTags = async () => {\n    if (!form.content) { toast.error('Write some content first'); return; }\n    setAiLoading(true);\n    setSuggestedTags([]);\n    try {\n      const tmp = document.createElement('div');\n      tmp.innerHTML = form.content;\n      const res = await aiAPI.suggestTags(tmp.textContent, form.title);\n      setSuggestedTags(res.data.tags || []);\n    } catch {\n      toast.error('AI tag suggestion failed');\n    } finally {\n      setAiLoading(false);\n    }\n  };\n\n  if (loading) {\n    return (\n      <div style={{ display: 'grid', placeItems: 'center', height: '60vh' }}>\n        <div className=\"spinner\" style={{ width: 36, height: 36 }} />\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"page-main\">\n      <div className=\"container\">\n        <div style={{ maxWidth: 900, margin: '0 auto' }}>\n          {/* Header */}\n          <div style={{ marginBottom: 32 }}>\n            <h1 style={{\n              fontFamily: 'var(--font-display)',\n              fontSize: 32,\n              fontWeight: 900,\n              color: 'var(--ink)',\n              marginBottom: 6,\n            }}>\n              {isEdit ? '‚úèÔ∏è Edit Article' : '‚ú® New Article'}\n            </h1>\n            <p style={{ color: 'var(--ink-muted)' }}>\n              {isEdit ? 'Update your article below' : 'Share your knowledge with the community'}\n            </p>\n          </div>\n\n          <form onSubmit={handleSubmit}>\n            {/* Title */}\n            <div className=\"form-group\">\n              <label className=\"form-label\">Title *</label>\n              <input\n                className=\"form-input\"\n                style={{ fontSize: 20, fontFamily: 'var(--font-display)', fontWeight: 700, padding: '14px 16px' }}\n                placeholder=\"Write a compelling title...\"\n                value={form.title}\n                onChange={e => setForm(f => ({ ...f, title: e.target.value }))}\n                required\n              />\n            </div>\n\n            {/* Category & Tags row */}\n            <div style={{ display: 'grid', gridTemplateColumns: '1fr 2fr', gap: 16, marginBottom: 20 }}>\n              <div className=\"form-group\" style={{ marginBottom: 0 }}>\n                <label className=\"form-label\">Category *</label>\n                <select\n                  className=\"form-select\"\n                  value={form.category}\n                  onChange={e => setForm(f => ({ ...f, category: e.target.value }))}\n                >\n                  {CATEGORIES.map(c => <option key={c} value={c}>{c}</option>)}\n                </select>\n              </div>\n              <div className=\"form-group\" style={{ marginBottom: 0 }}>\n                <label className=\"form-label\">\n                  Tags\n                  <button\n                    type=\"button\"\n                    onClick={() => { setAiPanel('tags'); handleSuggestTags(); }}\n                    className=\"btn btn-sm\"\n                    style={{ marginLeft: 8, padding: '2px 8px', fontSize: 11, background: '#f3f0ff', color: '#5b21b6', border: '1px solid #c4b5fd' }}\n                  >\n                    ‚ú® AI Suggest\n                  </button>\n                </label>\n                <input\n                  className=\"form-input\"\n                  placeholder=\"react, javascript, web-development\"\n                  value={form.tags}\n                  onChange={e => setForm(f => ({ ...f, tags: e.target.value }))}\n                />\n                {suggestedTags.length > 0 && (\n                  <div style={{ display: 'flex', flexWrap: 'wrap', gap: 6, marginTop: 8 }}>\n                    <span style={{ fontSize: 12, color: 'var(--ink-muted)' }}>Suggestions:</span>\n                    {suggestedTags.map(tag => (\n                      <button\n                        key={tag} type=\"button\"\n                        className=\"badge badge-tag\"\n                        style={{ cursor: 'pointer', fontSize: 12 }}\n                        onClick={() => {\n                          const existing = form.tags.split(',').map(t => t.trim()).filter(Boolean);\n                          if (!existing.includes(tag)) {\n                            setForm(f => ({ ...f, tags: [...existing, tag].join(', ') }));\n                          }\n                        }}\n                      >+ #{tag}</button>\n                    ))}\n                    <button\n                      type=\"button\" className=\"btn btn-sm\"\n                      style={{ fontSize: 11, padding: '2px 8px' }}\n                      onClick={() => setForm(f => ({ ...f, tags: suggestedTags.join(', ') }))}\n                    >Use all</button>\n                  </div>\n                )}\n              </div>\n            </div>\n\n            {/* Summary */}\n            <div className=\"form-group\">\n              <label className=\"form-label\">\n                Summary\n                <button\n                  type=\"button\"\n                  onClick={() => { setAiPanel('summary'); handleSummary(); }}\n                  className=\"btn btn-sm\"\n                  style={{ marginLeft: 8, padding: '2px 8px', fontSize: 11, background: '#f3f0ff', color: '#5b21b6', border: '1px solid #c4b5fd' }}\n                >\n                  ‚ú® AI Generate\n                </button>\n              </label>\n              <textarea\n                className=\"form-textarea\"\n                placeholder=\"A brief summary shown on article cards. Leave blank or use AI to generate.\"\n                value={form.summary}\n                onChange={e => setForm(f => ({ ...f, summary: e.target.value }))}\n                rows={3}\n              />\n            </div>\n\n            {/* Content Editor */}\n            <div className=\"form-group\">\n              <label className=\"form-label\">Content *</label>\n              <RichEditor\n                content={form.content}\n                onChange={(html) => setForm(f => ({ ...f, content: html }))}\n              />\n            </div>\n\n            {/* AI Writing Assistant Panel */}\n            <div style={{\n              background: 'linear-gradient(135deg, #1e1b4b, #1e3a8a)',\n              borderRadius: 'var(--radius-md)',\n              padding: '20px 24px',\n              marginBottom: 24,\n              color: 'white',\n            }}>\n              <div style={{ display: 'flex', alignItems: 'center', gap: 8, marginBottom: 14 }}>\n                <span style={{ fontSize: 18 }}>ü§ñ</span>\n                <span style={{ fontWeight: 700, fontSize: 14, textTransform: 'uppercase', letterSpacing: '0.07em' }}>\n                  AI Writing Assistant\n                </span>\n                <span style={{\n                  fontSize: 11, background: 'rgba(255,255,255,0.15)', padding: '2px 8px',\n                  borderRadius: 100, marginLeft: 4,\n                }}>Powered by Gemini</span>\n              </div>\n\n              <div style={{ display: 'flex', flexWrap: 'wrap', gap: 8 }}>\n                <button\n                  type=\"button\"\n                  onClick={() => { setAiPanel('improve'); handleImprove('clarity'); }}\n                  className=\"btn btn-sm\"\n                  style={{ background: 'rgba(255,255,255,0.15)', color: 'white', border: '1px solid rgba(255,255,255,0.25)', backdropFilter: 'blur(4px)' }}\n                  disabled={aiLoading}\n                >\n                  ‚ú® Improve Clarity\n                </button>\n                <button\n                  type=\"button\"\n                  onClick={() => { setAiPanel('improve'); handleImprove('grammar'); }}\n                  className=\"btn btn-sm\"\n                  style={{ background: 'rgba(255,255,255,0.15)', color: 'white', border: '1px solid rgba(255,255,255,0.25)' }}\n                  disabled={aiLoading}\n                >\n                  üìù Fix Grammar\n                </button>\n                <button\n                  type=\"button\"\n                  onClick={() => { setAiPanel('improve'); handleImprove('concise'); }}\n                  className=\"btn btn-sm\"\n                  style={{ background: 'rgba(255,255,255,0.15)', color: 'white', border: '1px solid rgba(255,255,255,0.25)' }}\n                  disabled={aiLoading}\n                >\n                  ‚úÇÔ∏è Make Concise\n                </button>\n                <button\n                  type=\"button\"\n                  onClick={() => { setAiPanel('titles'); handleSuggestTitles(); }}\n                  className=\"btn btn-sm\"\n                  style={{ background: 'rgba(255,255,255,0.15)', color: 'white', border: '1px solid rgba(255,255,255,0.25)' }}\n                  disabled={aiLoading}\n                >\n                  üí° Suggest Titles\n                </button>\n              </div>\n\n              {aiLoading && (\n                <div style={{ display: 'flex', alignItems: 'center', gap: 10, marginTop: 14 }}>\n                  <div className=\"spinner\" style={{ borderColor: 'rgba(255,255,255,0.3)', borderTopColor: 'white', width: 18, height: 18 }} />\n                  <span style={{ fontSize: 13, opacity: 0.8 }}>AI is thinking...</span>\n                </div>\n              )}\n\n              {/* Improved content result */}\n              {aiPanel === 'improve' && aiResult && (\n                <div style={{\n                  marginTop: 16,\n                  background: 'rgba(255,255,255,0.1)',\n                  borderRadius: 8,\n                  padding: 16,\n                  border: '1px solid rgba(255,255,255,0.2)',\n                }}>\n                  <p style={{ fontSize: 12, opacity: 0.7, marginBottom: 8, textTransform: 'uppercase', letterSpacing: '0.05em' }}>\n                    AI Suggestion:\n                  </p>\n                  <p style={{ fontSize: 14, lineHeight: 1.7, whiteSpace: 'pre-wrap', opacity: 0.95 }}>\n                    {aiResult.slice(0, 600)}{aiResult.length > 600 ? '...' : ''}\n                  </p>\n                  <div style={{ display: 'flex', gap: 8, marginTop: 12 }}>\n                    <button\n                      type=\"button\"\n                      onClick={applyImprovedContent}\n                      className=\"btn btn-sm\"\n                      style={{ background: 'white', color: '#1e1b4b', fontWeight: 700 }}\n                    >‚úì Apply</button>\n                    <button\n                      type=\"button\"\n                      onClick={() => { setAiResult(''); setAiPanel(null); }}\n                      className=\"btn btn-sm\"\n                      style={{ background: 'transparent', color: 'white', border: '1px solid rgba(255,255,255,0.3)' }}\n                    >‚úï Dismiss</button>\n                  </div>\n                </div>\n              )}\n\n              {/* Title suggestions */}\n              {aiPanel === 'titles' && suggestedTitles.length > 0 && (\n                <div style={{ marginTop: 16 }}>\n                  <p style={{ fontSize: 12, opacity: 0.7, marginBottom: 8, textTransform: 'uppercase', letterSpacing: '0.05em' }}>\n                    Suggested Titles:\n                  </p>\n                  {suggestedTitles.map((t, i) => (\n                    <div\n                      key={i}\n                      style={{\n                        background: 'rgba(255,255,255,0.1)',\n                        border: '1px solid rgba(255,255,255,0.2)',\n                        borderRadius: 6,\n                        padding: '10px 14px',\n                        marginBottom: 8,\n                        cursor: 'pointer',\n                        fontSize: 14,\n                        transition: 'background 0.15s',\n                      }}\n                      onClick={() => {\n                        setForm(f => ({ ...f, title: t }));\n                        setSuggestedTitles([]);\n                        setAiPanel(null);\n                        toast.success('Title applied!');\n                      }}\n                      onMouseEnter={e => e.currentTarget.style.background = 'rgba(255,255,255,0.2)'}\n                      onMouseLeave={e => e.currentTarget.style.background = 'rgba(255,255,255,0.1)'}\n                    >\n                      {t}\n                    </div>\n                  ))}\n                </div>\n              )}\n            </div>\n\n            {/* Actions */}\n            <div style={{ display: 'flex', gap: 12, justifyContent: 'flex-end' }}>\n              <button\n                type=\"button\"\n                className=\"btn btn-ghost\"\n                onClick={() => navigate(isEdit ? `/articles/${id}` : '/')}\n              >Cancel</button>\n              <button\n                type=\"submit\"\n                className=\"btn btn-primary btn-lg\"\n                disabled={saving}\n              >\n                {saving\n                  ? <><div className=\"spinner\" style={{ width: 18, height: 18 }} /> Saving...</>\n                  : isEdit ? 'üíæ Save Changes' : 'üöÄ Publish Article'}\n              </button>\n            </div>\n          </form>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default ArticleFormPage;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}